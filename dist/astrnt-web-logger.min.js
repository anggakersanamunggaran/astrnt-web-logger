!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("astrnt-web-logger",[],n):"object"==typeof exports?exports["astrnt-web-logger"]=n():e["astrnt-web-logger"]=n()}("undefined"!=typeof self?self:this,function(){return function(e){var n={};function r(o){if(n[o])return n[o].exports;var t=n[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=e,r.c=n,r.d=function(e,n,o){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)r.d(o,t,function(n){return e[n]}.bind(null,t));return o},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n,r){"use strict";r.r(n);var o=function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";return new Promise(function(t,i){var s=new XMLHttpRequest;s.open(e,n,!0),s.setRequestHeader("Content-type","application/json;charset=UTF-8"),o&&s.overrideMimeType&&s.overrideMimeType(o),s.addEventListener("load",function(e){var n=e.target,r=JSON.parse(n.responseText),o=r.status||s.status;o>=200&&o<300?t(r.message||r):i(r.message||r)});var a=JSON.stringify(r);s.send(a)})},t=navigator.userAgent,i=navigator.appVersion,s=navigator.cookieEnabled,a=function(){var e="-",n="-",r=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var o in r){var s=r[o];if(s.r.test(t)){e=s.s;break}}switch(/Windows/.test(e)&&(n=/Windows (.*)/.exec(e)[1],e="Windows"),e){case"Mac OS X":n=/Mac OS X (10[\.\_\d]+)/.exec(t)[1];break;case"Android":n=/Android ([\.\_\d]+)/.exec(t)[1];break;case"iOS":n=(n=/OS (\d+)_(\d+)_?(\d+)?/.exec(i))[1]+"."+n[2]+"."+(0|n[3])}return{name:e,version:n}},c=function(){var e,n,r,o=parseInt(i,10),s=navigator.appName,a=""+parseFloat(navigator.appVersion);return-1!==(n=t.indexOf("Opera"))?(s="Opera",a=t.substring(n+6),-1!==(n=t.indexOf("Version"))&&(a=t.substring(n+8))):-1!==(n=t.indexOf("OPR"))?(s="Opera",a=t.substring(n+4)):-1!==(n=t.indexOf("Edge"))?(s="Microsoft Edge",a=t.substring(n+5)):-1!==(n=t.indexOf("MSIE"))?(s="Microsoft Internet Explorer",a=t.substring(n+5)):-1!==(n=t.indexOf("Chrome"))?(s="Chrome",a=t.substring(n+7)):-1!==(n=t.indexOf("Safari"))?(s="Safari",a=t.substring(n+7),-1!==(n=t.indexOf("Version"))&&(a=t.substring(n+8))):-1!==(n=t.indexOf("Firefox"))?(s="Firefox",a=t.substring(n+8)):-1!==t.indexOf("Trident/")?(s="Microsoft Internet Explorer",a=t.substring(t.indexOf("rv:")+3)):(e=t.lastIndexOf(" ")+1)<(n=t.lastIndexOf("/"))&&(s=t.substring(e,n),a=t.substring(n+1),s.toLowerCase()===s.toUpperCase()&&(s=navigator.appName)),-1!==(r=a.indexOf(""))&&(a=a.substring(0,r)),-1!==(r=a.indexOf(" "))&&(a=a.substring(0,r)),-1!==(r=a.indexOf(")"))&&(a=a.substring(0,r)),o=parseInt(""+a,10),isNaN(o)&&(a=""+parseFloat(i),o=parseInt(i,10)),{name:s||"",version:a||"",majorVersion:o||""}},d=function(){if(screen.width)return(screen.width?screen.width:"")+" x "+(screen.height?screen.height:"")},u=function(){return void 0===navigator.cookieEnabled&&!s&&(document.cookie="testcookie",-1!==document.cookie.indexOf("testcookie"))};r.d(n,"initialize",function(){return S}),r.d(n,"recordEvent",function(){return b}),r.d(n,"sendSavedEvents",function(){return W}),r.d(n,"clearCache",function(){return x});var f="ASTRNT_LOG_ENV",l="ASTRNT_BASE_LOG_INFO",g="ASTRNT_LOG_INFOS",p=[f,l,g],v=function(){var e="";switch(localStorage.getItem(f)){case"beta":case"dev":e="beta";break;case"production":case"live":e="app"}var n="https://".concat(e,".astrnt.co");return"".concat(n,"/api/v2/candidate/logs")},w=function(e){var n,r,o,t,s,f,g,p,v,w=function(){var e=a(),n=c(),r=d(),o=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(i);return{screen:r,browser:n.name,browserVersion:n.version,browserMajorVersion:n.majorVersion,mobile:o,os:e.name,osVersion:e.version,cookies:u}}(),O=(new Date).getTimezoneOffset()/60*-1,m=(n=new Date,r=new Date(n),o=""+(r.getMonth()+1),t=""+r.getDate(),s=r.getFullYear(),f=r.getHours(),g=r.getMinutes(),p=r.getSeconds(),o.length<2&&(o="0"+o),t.length<2&&(t="0"+t),g=g<10?"0"+g:g,"".concat([s,o,t].join("-")," ").concat(f,":").concat(g,":").concat(p)),S=navigator.userAgent,b="".concat(w.os," (").concat(w.osVersion,")"),W="".concat(w.browser,", Version ").concat(w.browserVersion," (").concat(w.browserMajorVersion,")"),x=(v=localStorage.getItem(l),JSON.parse(v));return x.event=e.event||"",x.message=e.message||"",x.os=b,x.version=W,x.imei=S,x.log_time=m,x.time_zone=O,x},O=function(e){var n=v(),r=w(e);return o("POST",n,{logs:[r]})},m=function(e){var n,r=localStorage.getItem(g);r?(n=JSON.parse(r),localStorage.removeItem(g)):n=[];var o=w(e);return n.push(o),localStorage.setItem(g,JSON.stringify(n)),Promise.resolve(o)};function S(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},t={interviewCode:n.interview_code||"",candidate_id:n.candidate_id||0,job_id:n.job_id||0,company_id:n.company_id||0};localStorage.setItem(f,e),localStorage.setItem(l,JSON.stringify(t)),window.addEventListener("error",function(e){return r(e.error),!1}),window.addEventListener("unhandledrejection",function(e){o(e.reason)})}function b(e){switch(e.status){case"online":return O(e);case"offline":return m(e)}return Promise.resolve("No event to send")}function W(){var e=localStorage.getItem(g);if(!e)return Promise.resolve();var n=v(),r={logs:JSON.parse(e)};return new Promise(function(e,t){o("POST",n,r).then(function(n){localStorage.removeItem(g),e(n)}).catch(function(e){return t(e)})})}function x(){p.forEach(function(e){localStorage.removeItem(e)})}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3RybnQtd2ViLWxvZ2dlci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vYXN0cm50LXdlYi1sb2dnZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYXN0cm50LXdlYi1sb2dnZXIvLi9zcmMvdXRpbHMvYXN0cm50LWh0dHAtaGFuZGxlci5qcyIsIndlYnBhY2s6Ly9hc3RybnQtd2ViLWxvZ2dlci8uL3NyYy91dGlscy9uYXZpZ2F0b3ItaGVscGVyLmpzIiwid2VicGFjazovL2FzdHJudC13ZWItbG9nZ2VyLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2FzdHJudC13ZWItbG9nZ2VyLy4vc3JjL3V0aWxzL2RhdGUtdXRpbHMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXN0cm50X2h0dHBfaGFuZGxlciIsIm1ldGhvZCIsInVybCIsInBhcmFtcyIsIm1pbWVUeXBlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm92ZXJyaWRlTWltZVR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwicmVzcG9uc2UiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZUNvZGUiLCJzdGF0dXMiLCJtZXNzYWdlIiwicmVxdWVzdFBhcmFtcyIsInN0cmluZ2lmeSIsInNlbmQiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm5WZXIiLCJhcHBWZXJzaW9uIiwiY29va2llRW5hYmxlZCIsImdldE9TSW5mbyIsIm9zIiwib3NWZXJzaW9uIiwiY2xpZW50U3RyaW5ncyIsImlkIiwiY3MiLCJ0ZXN0IiwiZXhlYyIsInZlcnNpb24iLCJnZXRCcm93c2VySW5mbyIsIm5hbWVPZmZzZXQiLCJ2ZXJPZmZzZXQiLCJpeCIsIm1ham9yVmVyc2lvbiIsInBhcnNlSW50IiwiYnJvd3NlciIsImFwcE5hbWUiLCJwYXJzZUZsb2F0IiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsImlzTmFOIiwiZ2V0U2NyZWVuU2l6ZSIsInNjcmVlbiIsIndpZHRoIiwiaGVpZ2h0IiwiaXNDb29raWVFbmFibGVkIiwiZG9jdW1lbnQiLCJjb29raWUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiaW5pdGlhbGl6ZSIsInJlY29yZEV2ZW50Iiwic2VuZFNhdmVkRXZlbnRzIiwiY2xlYXJDYWNoZSIsImxvZ0VudiIsImxvZ0Jhc2VJbmZvIiwibG9nSW5mb3MiLCJzdG9yYWdlS2V5cyIsImNvbnN0cnVjdFVSTCIsImRvbWFpblByZWZpeCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJiYXNlVVJMIiwiY29uY2F0IiwiY29uc3RydWN0SW50ZXJ2aWV3SW5mbyIsImRhdGUiLCJtb250aCIsImRheSIsInllYXIiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwiaW5mbyIsImRldmljZSIsInNjcmVlblNpemUiLCJtb2JpbGUiLCJicm93c2VyVmVyc2lvbiIsImJyb3dzZXJNYWpvclZlcnNpb24iLCJjb29raWVzIiwiZGV2aWNlSW5mbyIsInRpbWVab25lIiwiRGF0ZSIsImdldFRpbWV6b25lT2Zmc2V0IiwibG9nVGltZSIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImpvaW4iLCJyZWNvcmRlZFBhcmFtIiwiZXZlbnQiLCJpbWVpIiwibG9nX3RpbWUiLCJ0aW1lX3pvbmUiLCJzZW5kRXZlbnQiLCJVUkwiLCJsb2dJbmZvIiwiaHR0cEhhbmRsZXIiLCJsb2dzIiwic3RvcmVFdmVudCIsInN0b3JlZExvZ3MiLCJsb2dJdGVtcyIsInJlbW92ZUl0ZW0iLCJpbnRlcnZpZXdJbmZvIiwicHVzaCIsInNldEl0ZW0iLCJlbnYiLCJvbkVycm9yIiwib25VbmhhbmRsZWRSZWplY3Rpb24iLCJiYXNlUGFyYW0iLCJpbnRlcnZpZXdDb2RlIiwiaW50ZXJ2aWV3X2NvZGUiLCJjYW5kaWRhdGVfaWQiLCJqb2JfaWQiLCJjb21wYW55X2lkIiwid2luZG93IiwiZXJyRXZ0IiwiZXJyb3IiLCJyZWFzb24iLCJ0aGVuIiwicmVzdWx0IiwiY2F0Y2giLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxPQUFBLHVCQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLHFCQUFBRCxJQUVBRCxFQUFBLHFCQUFBQyxJQVJBLENBU0Msb0JBQUFLLFVBQUFDLEtBQUEsV0FDRCxtQkNUQSxJQUFBQyxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFSLFFBR0EsSUFBQUMsRUFBQUssRUFBQUUsR0FBQSxDQUNBQyxFQUFBRCxFQUNBRSxHQUFBLEVBQ0FWLFFBQUEsSUFVQSxPQU5BVyxFQUFB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b24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImFzdHJudC13ZWItbG9nZ2VyXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImFzdHJudC13ZWItbG9nZ2VyXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImFzdHJudC13ZWItbG9nZ2VyXCJdID0gZmFjdG9yeSgpO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIlxuZXhwb3J0IGRlZmF1bHQgKG1ldGhvZCwgdXJsLCBwYXJhbXMsIG1pbWVUeXBlID0gJ2FwcGxpY2F0aW9uL2pzb24nKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgcmVxdWVzdC5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKVxuXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JylcblxuICAgIGlmIChtaW1lVHlwZSAmJiByZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUpIHtcbiAgICAgIHJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZShtaW1lVHlwZSlcbiAgICB9XG5cbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZXZ0KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0XG4gICAgICBjb25zdCByZXNwb25zZSA9IEpTT04ucGFyc2UodGFyZ2V0LnJlc3BvbnNlVGV4dClcbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29kZSA9IHJlc3BvbnNlLnN0YXR1cyB8fCByZXF1ZXN0LnN0YXR1c1xuXG4gICAgICBpZiAocmVzcG9uc2VDb2RlID49IDIwMCAmJiByZXNwb25zZUNvZGUgPCAzMDApIHtcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5tZXNzYWdlIHx8IHJlc3BvbnNlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KHJlc3BvbnNlLm1lc3NhZ2UgfHwgcmVzcG9uc2UpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IHJlcXVlc3RQYXJhbXMgPSBKU09OLnN0cmluZ2lmeShwYXJhbXMpXG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3RQYXJhbXMpXG4gIH0pXG59XG4iLCIvKipcbiAqIHNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE4NzA2ODE4Lzk5Mzg1MzlcbiovXG5cbmNvbnN0IHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudFxuY29uc3QgblZlciA9IG5hdmlnYXRvci5hcHBWZXJzaW9uXG5sZXQgY29va2llRW5hYmxlZCA9IG5hdmlnYXRvci5jb29raWVFbmFibGVkXG5cbmNvbnN0IGdldE9TSW5mbyA9ICgpID0+IHtcbiAgbGV0IG9zID0gJy0nXG4gIGxldCBvc1ZlcnNpb24gPSAnLSdcblxuICBjb25zdCBjbGllbnRTdHJpbmdzID0gW1xuICAgIHtzOiAnV2luZG93cyAxMCcsIHI6IC8oV2luZG93cyAxMC4wfFdpbmRvd3MgTlQgMTAuMCkvfSxcbiAgICB7czogJ1dpbmRvd3MgOC4xJywgcjogLyhXaW5kb3dzIDguMXxXaW5kb3dzIE5UIDYuMykvfSxcbiAgICB7czogJ1dpbmRvd3MgOCcsIHI6IC8oV2luZG93cyA4fFdpbmRvd3MgTlQgNi4yKS99LFxuICAgIHtzOiAnV2luZG93cyA3JywgcjogLyhXaW5kb3dzIDd8V2luZG93cyBOVCA2LjEpL30sXG4gICAge3M6ICdXaW5kb3dzIFZpc3RhJywgcjogL1dpbmRvd3MgTlQgNi4wL30sXG4gICAge3M6ICdXaW5kb3dzIFNlcnZlciAyMDAzJywgcjogL1dpbmRvd3MgTlQgNS4yL30sXG4gICAge3M6ICdXaW5kb3dzIFhQJywgcjogLyhXaW5kb3dzIE5UIDUuMXxXaW5kb3dzIFhQKS99LFxuICAgIHtzOiAnV2luZG93cyAyMDAwJywgcjogLyhXaW5kb3dzIE5UIDUuMHxXaW5kb3dzIDIwMDApL30sXG4gICAge3M6ICdXaW5kb3dzIE1FJywgcjogLyhXaW4gOXggNC45MHxXaW5kb3dzIE1FKS99LFxuICAgIHtzOiAnV2luZG93cyA5OCcsIHI6IC8oV2luZG93cyA5OHxXaW45OCkvfSxcbiAgICB7czogJ1dpbmRvd3MgOTUnLCByOiAvKFdpbmRvd3MgOTV8V2luOTV8V2luZG93c185NSkvfSxcbiAgICB7czogJ1dpbmRvd3MgTlQgNC4wJywgcjogLyhXaW5kb3dzIE5UIDQuMHxXaW5OVDQuMHxXaW5OVHxXaW5kb3dzIE5UKS99LFxuICAgIHtzOiAnV2luZG93cyBDRScsIHI6IC9XaW5kb3dzIENFL30sXG4gICAge3M6ICdXaW5kb3dzIDMuMTEnLCByOiAvV2luMTYvfSxcbiAgICB7czogJ0FuZHJvaWQnLCByOiAvQW5kcm9pZC99LFxuICAgIHtzOiAnT3BlbiBCU0QnLCByOiAvT3BlbkJTRC99LFxuICAgIHtzOiAnU3VuIE9TJywgcjogL1N1bk9TL30sXG4gICAge3M6ICdMaW51eCcsIHI6IC8oTGludXh8WDExKS99LFxuICAgIHtzOiAnaU9TJywgcjogLyhpUGhvbmV8aVBhZHxpUG9kKS99LFxuICAgIHtzOiAnTWFjIE9TIFgnLCByOiAvTWFjIE9TIFgvfSxcbiAgICB7czogJ01hYyBPUycsIHI6IC8oTWFjUFBDfE1hY0ludGVsfE1hY19Qb3dlclBDfE1hY2ludG9zaCkvfSxcbiAgICB7czogJ1FOWCcsIHI6IC9RTlgvfSxcbiAgICB7czogJ1VOSVgnLCByOiAvVU5JWC99LFxuICAgIHtzOiAnQmVPUycsIHI6IC9CZU9TL30sXG4gICAge3M6ICdPUy8yJywgcjogL09TXFwvMi99LFxuICAgIHtzOiAnU2VhcmNoIEJvdCcsIHI6IC8obnVoa3xHb29nbGVib3R8WWFtbXlib3R8T3BlbmJvdHxTbHVycHxNU05Cb3R8QXNrIEplZXZlc1xcL1Rlb21hfGlhX2FyY2hpdmVyKS99XG4gIF1cblxuICBmb3IgKGxldCBpZCBpbiBjbGllbnRTdHJpbmdzKSB7XG4gICAgbGV0IGNzID0gY2xpZW50U3RyaW5nc1tpZF1cbiAgICBpZiAoY3Muci50ZXN0KHVhKSkge1xuICAgICAgb3MgPSBjcy5zXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICgvV2luZG93cy8udGVzdChvcykpIHtcbiAgICBvc1ZlcnNpb24gPSAvV2luZG93cyAoLiopLy5leGVjKG9zKVsxXVxuICAgIG9zID0gJ1dpbmRvd3MnXG4gIH1cblxuICBzd2l0Y2ggKG9zKSB7XG4gICAgY2FzZSAnTWFjIE9TIFgnOlxuICAgICAgb3NWZXJzaW9uID0gL01hYyBPUyBYICgxMFtcXC5cXF9cXGRdKykvLmV4ZWModWEpWzFdXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAnQW5kcm9pZCc6XG4gICAgICBvc1ZlcnNpb24gPSAvQW5kcm9pZCAoW1xcLlxcX1xcZF0rKS8uZXhlYyh1YSlbMV1cbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICdpT1MnOlxuICAgICAgb3NWZXJzaW9uID0gL09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT8vLmV4ZWMoblZlcilcbiAgICAgIG9zVmVyc2lvbiA9IG9zVmVyc2lvblsxXSArICcuJyArIG9zVmVyc2lvblsyXSArICcuJyArIChvc1ZlcnNpb25bM10gfCAwKVxuICAgICAgYnJlYWtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogb3MsXG4gICAgdmVyc2lvbjogb3NWZXJzaW9uXG4gIH1cbn1cblxuY29uc3QgZ2V0QnJvd3NlckluZm8gPSAoKSA9PiB7XG4gIGxldCBtYWpvclZlcnNpb24gPSBwYXJzZUludChuVmVyLCAxMClcbiAgbGV0IGJyb3dzZXIgPSBuYXZpZ2F0b3IuYXBwTmFtZVxuICBsZXQgdmVyc2lvbiA9ICcnICsgcGFyc2VGbG9hdChuYXZpZ2F0b3IuYXBwVmVyc2lvbilcbiAgbGV0IG5hbWVPZmZzZXQsIHZlck9mZnNldCwgaXhcblxuICBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ09wZXJhJykpICE9PSAtMSkge1xuICAgIGJyb3dzZXIgPSAnT3BlcmEnXG4gICAgdmVyc2lvbiA9IHVhLnN1YnN0cmluZyh2ZXJPZmZzZXQgKyA2KVxuICAgIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignVmVyc2lvbicpKSAhPT0gLTEpIHtcbiAgICAgIHZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgOClcbiAgICB9XG4gIH0gZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ09QUicpKSAhPT0gLTEpIHtcbiAgICBicm93c2VyID0gJ09wZXJhJ1xuICAgIHZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgNClcbiAgfSBlbHNlIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignRWRnZScpKSAhPT0gLTEpIHtcbiAgICBicm93c2VyID0gJ01pY3Jvc29mdCBFZGdlJ1xuICAgIHZlcnNpb24gPSB1YS5zdWJzdHJpbmcodmVyT2Zmc2V0ICsgNSlcbiAgfSBlbHNlIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignTVNJRScpKSAhPT0gLTEpIHtcbiAgICBicm93c2VyID0gJ01pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlcidcbiAgICB2ZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDUpXG4gIH0gZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ0Nocm9tZScpKSAhPT0gLTEpIHtcbiAgICBicm93c2VyID0gJ0Nocm9tZSdcbiAgICB2ZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDcpXG4gIH0gZWxzZSBpZiAoKHZlck9mZnNldCA9IHVhLmluZGV4T2YoJ1NhZmFyaScpKSAhPT0gLTEpIHtcbiAgICBicm93c2VyID0gJ1NhZmFyaSdcbiAgICB2ZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDcpXG4gICAgaWYgKCh2ZXJPZmZzZXQgPSB1YS5pbmRleE9mKCdWZXJzaW9uJykpICE9PSAtMSkge1xuICAgICAgdmVyc2lvbiA9IHVhLnN1YnN0cmluZyh2ZXJPZmZzZXQgKyA4KVxuICAgIH1cbiAgfSBlbHNlIGlmICgodmVyT2Zmc2V0ID0gdWEuaW5kZXhPZignRmlyZWZveCcpKSAhPT0gLTEpIHtcbiAgICBicm93c2VyID0gJ0ZpcmVmb3gnXG4gICAgdmVyc2lvbiA9IHVhLnN1YnN0cmluZyh2ZXJPZmZzZXQgKyA4KVxuICB9IGVsc2UgaWYgKHVhLmluZGV4T2YoJ1RyaWRlbnQvJykgIT09IC0xKSB7XG4gICAgYnJvd3NlciA9ICdNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXInXG4gICAgdmVyc2lvbiA9IHVhLnN1YnN0cmluZyh1YS5pbmRleE9mKCdydjonKSArIDMpXG4gIH0gZWxzZSBpZiAoKG5hbWVPZmZzZXQgPSB1YS5sYXN0SW5kZXhPZignICcpICsgMSkgPCAodmVyT2Zmc2V0ID0gdWEubGFzdEluZGV4T2YoJy8nKSkpIHtcbiAgICBicm93c2VyID0gdWEuc3Vic3RyaW5nKG5hbWVPZmZzZXQsIHZlck9mZnNldClcbiAgICB2ZXJzaW9uID0gdWEuc3Vic3RyaW5nKHZlck9mZnNldCArIDEpXG4gICAgaWYgKGJyb3dzZXIudG9Mb3dlckNhc2UoKSA9PT0gYnJvd3Nlci50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBicm93c2VyID0gbmF2aWdhdG9yLmFwcE5hbWVcbiAgICB9XG4gIH1cblxuICBpZiAoKGl4ID0gdmVyc2lvbi5pbmRleE9mKCcnKSkgIT09IC0xKSB7XG4gICAgdmVyc2lvbiA9IHZlcnNpb24uc3Vic3RyaW5nKDAsIGl4KVxuICB9XG5cbiAgaWYgKChpeCA9IHZlcnNpb24uaW5kZXhPZignICcpKSAhPT0gLTEpIHtcbiAgICB2ZXJzaW9uID0gdmVyc2lvbi5zdWJzdHJpbmcoMCwgaXgpXG4gIH1cblxuICBpZiAoKGl4ID0gdmVyc2lvbi5pbmRleE9mKCcpJykpICE9PSAtMSkge1xuICAgIHZlcnNpb24gPSB2ZXJzaW9uLnN1YnN0cmluZygwLCBpeClcbiAgfVxuXG4gIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KCcnICsgdmVyc2lvbiwgMTApXG4gIGlmIChpc05hTihtYWpvclZlcnNpb24pKSB7XG4gICAgdmVyc2lvbiA9ICcnICsgcGFyc2VGbG9hdChuVmVyKVxuICAgIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG5WZXIsIDEwKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBicm93c2VyIHx8ICcnLFxuICAgIHZlcnNpb246IHZlcnNpb24gfHwgJycsXG4gICAgbWFqb3JWZXJzaW9uOiBtYWpvclZlcnNpb24gfHwgJydcbiAgfVxufVxuXG5jb25zdCBnZXRTY3JlZW5TaXplID0gKCkgPT4ge1xuICBpZiAoIXNjcmVlbi53aWR0aCkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGNvbnN0IHdpZHRoID0gKHNjcmVlbi53aWR0aCkgPyBzY3JlZW4ud2lkdGggOiAnJ1xuICBjb25zdCBoZWlnaHQgPSAoc2NyZWVuLmhlaWdodCkgPyBzY3JlZW4uaGVpZ2h0IDogJydcblxuICByZXR1cm4gJycgKyB3aWR0aCArICcgeCAnICsgaGVpZ2h0XG59XG5cbmNvbnN0IGlzQ29va2llRW5hYmxlZCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IuY29va2llRW5hYmxlZCA9PT0gJ3VuZGVmaW5lZCcgJiYgIWNvb2tpZUVuYWJsZWQpIHtcbiAgICBkb2N1bWVudC5jb29raWUgPSAndGVzdGNvb2tpZSdcbiAgICByZXR1cm4gZG9jdW1lbnQuY29va2llLmluZGV4T2YoJ3Rlc3Rjb29raWUnKSAhPT0gLTFcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGV2aWNlSW5mbygpIHtcbiAgY29uc3Qgb3MgPSBnZXRPU0luZm8oKVxuICBjb25zdCBicm93c2VyID0gZ2V0QnJvd3NlckluZm8oKVxuICBjb25zdCBzY3JlZW5TaXplID0gZ2V0U2NyZWVuU2l6ZSgpXG4gIGNvbnN0IG1vYmlsZSA9IC9Nb2JpbGV8bWluaXxGZW5uZWN8QW5kcm9pZHxpUChhZHxvZHxob25lKS8udGVzdChuVmVyKVxuXG4gIHJldHVybiB7XG4gICAgc2NyZWVuOiBzY3JlZW5TaXplLFxuICAgIGJyb3dzZXI6IGJyb3dzZXIubmFtZSxcbiAgICBicm93c2VyVmVyc2lvbjogYnJvd3Nlci52ZXJzaW9uLFxuICAgIGJyb3dzZXJNYWpvclZlcnNpb246IGJyb3dzZXIubWFqb3JWZXJzaW9uLFxuICAgIG1vYmlsZTogbW9iaWxlLFxuICAgIG9zOiBvcy5uYW1lLFxuICAgIG9zVmVyc2lvbjogb3MudmVyc2lvbixcbiAgICBjb29raWVzOiBpc0Nvb2tpZUVuYWJsZWRcbiAgfVxufVxuIiwiaW1wb3J0IGh0dHBIYW5kbGVyIGZyb20gJ3V0aWxzL2FzdHJudC1odHRwLWhhbmRsZXInXG5pbXBvcnQgeyBkZXZpY2VJbmZvIH0gZnJvbSAndXRpbHMvbmF2aWdhdG9yLWhlbHBlcidcbmltcG9ydCAqIGFzIERhdGVVdGlscyBmcm9tICd1dGlscy9kYXRlLXV0aWxzJ1xuXG5jb25zdCBsb2dFbnYgPSAnQVNUUk5UX0xPR19FTlYnXG5jb25zdCBsb2dCYXNlSW5mbyA9ICdBU1RSTlRfQkFTRV9MT0dfSU5GTydcbmNvbnN0IGxvZ0luZm9zID0gJ0FTVFJOVF9MT0dfSU5GT1MnXG5jb25zdCBzdG9yYWdlS2V5cyA9IFtcbiAgbG9nRW52LFxuICBsb2dCYXNlSW5mbyxcbiAgbG9nSW5mb3Ncbl1cblxuY29uc3QgZ2V0RW52ID0gKCkgPT4ge1xuICBjb25zdCBlbnYgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2dFbnYpXG4gIHJldHVybiBlbnZcbn1cblxuY29uc3QgZ2V0QmFzZUluZm8gPSAoKSA9PiB7XG4gIGNvbnN0IGluZm8gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2dCYXNlSW5mbylcbiAgcmV0dXJuIEpTT04ucGFyc2UoaW5mbylcbn1cblxuY29uc3QgY29uc3RydWN0VVJMID0gKCkgPT4ge1xuICBjb25zdCBlbnYgPSBnZXRFbnYoKVxuICBsZXQgZG9tYWluUHJlZml4ID0gJydcblxuICBzd2l0Y2ggKGVudikge1xuICAgIGNhc2UgJ2JldGEnOiBjYXNlICdkZXYnOlxuICAgICAgZG9tYWluUHJlZml4ID0gJ2JldGEnXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3Byb2R1Y3Rpb24nOiBjYXNlICdsaXZlJzpcbiAgICAgIGRvbWFpblByZWZpeCA9ICdhcHAnXG4gICAgICBicmVha1xuICB9XG5cbiAgY29uc3QgYmFzZVVSTCA9IGBodHRwczovLyR7ZG9tYWluUHJlZml4fS5hc3RybnQuY29gXG4gIHJldHVybiBgJHtiYXNlVVJMfS9hcGkvdjIvY2FuZGlkYXRlL2xvZ3NgXG59XG5cbmNvbnN0IGNvbnN0cnVjdEludGVydmlld0luZm8gPSAocGFyYW1zKSA9PiB7XG4gIGNvbnN0IGRldmljZSA9IGRldmljZUluZm8oKVxuICBjb25zdCB0aW1lWm9uZSA9IERhdGVVdGlscy5nZXRUaW1lem9uZSgpXG4gIGNvbnN0IGxvZ1RpbWUgPSBEYXRlVXRpbHMuZ2V0Q3VycmVudERhdGVUaW1lKClcbiAgY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50XG4gIGNvbnN0IG9zID0gYCR7ZGV2aWNlLm9zfSAoJHtkZXZpY2Uub3NWZXJzaW9ufSlgXG4gIGNvbnN0IHZlcnNpb24gPSBgJHtkZXZpY2UuYnJvd3Nlcn0sIFZlcnNpb24gJHtkZXZpY2UuYnJvd3NlclZlcnNpb259ICgke2RldmljZS5icm93c2VyTWFqb3JWZXJzaW9ufSlgXG5cbiAgbGV0IHJlY29yZGVkUGFyYW0gPSBnZXRCYXNlSW5mbygpXG4gIHJlY29yZGVkUGFyYW0uZXZlbnQgPSBwYXJhbXMuZXZlbnQgfHwgJydcbiAgcmVjb3JkZWRQYXJhbS5tZXNzYWdlID0gcGFyYW1zLm1lc3NhZ2UgfHwgJydcbiAgcmVjb3JkZWRQYXJhbS5vcyA9IG9zXG4gIHJlY29yZGVkUGFyYW0udmVyc2lvbiA9IHZlcnNpb25cbiAgcmVjb3JkZWRQYXJhbS5pbWVpID0gdWFcbiAgcmVjb3JkZWRQYXJhbS5sb2dfdGltZSA9IGxvZ1RpbWVcbiAgcmVjb3JkZWRQYXJhbS50aW1lX3pvbmUgPSB0aW1lWm9uZVxuXG4gIHJldHVybiByZWNvcmRlZFBhcmFtXG59XG5cbmNvbnN0IHNlbmRFdmVudCA9IChwYXJhbXMpID0+IHtcbiAgY29uc3QgVVJMID0gY29uc3RydWN0VVJMKClcbiAgY29uc3QgbG9nSW5mbyA9IGNvbnN0cnVjdEludGVydmlld0luZm8ocGFyYW1zKVxuICBjb25zdCByZXF1ZXN0UGFyYW1zID0ge1xuICAgIGxvZ3M6IFsgbG9nSW5mbyBdXG4gIH1cblxuICByZXR1cm4gaHR0cEhhbmRsZXIoJ1BPU1QnLCBVUkwsIHJlcXVlc3RQYXJhbXMpXG59XG5cbmNvbnN0IHN0b3JlRXZlbnQgPSAocGFyYW1zKSA9PiB7XG4gIGNvbnN0IGxvZ0l0ZW1zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obG9nSW5mb3MpXG5cbiAgbGV0IHN0b3JlZExvZ3NcbiAgaWYgKCFsb2dJdGVtcykge1xuICAgIHN0b3JlZExvZ3MgPSBbXVxuICB9IGVsc2Uge1xuICAgIHN0b3JlZExvZ3MgPSBKU09OLnBhcnNlKGxvZ0l0ZW1zKVxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGxvZ0luZm9zKVxuICB9XG5cbiAgY29uc3QgaW50ZXJ2aWV3SW5mbyA9IGNvbnN0cnVjdEludGVydmlld0luZm8ocGFyYW1zKVxuICBzdG9yZWRMb2dzLnB1c2goaW50ZXJ2aWV3SW5mbylcblxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2dJbmZvcywgSlNPTi5zdHJpbmdpZnkoc3RvcmVkTG9ncykpXG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpbnRlcnZpZXdJbmZvKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZShlbnYsIHBhcmFtcywgb25FcnJvciA9ICgpID0+IHt9LCBvblVuaGFuZGxlZFJlamVjdGlvbiA9ICgpID0+IHt9KSB7XG4gIGNvbnN0IGJhc2VQYXJhbSA9IHtcbiAgICAnaW50ZXJ2aWV3Q29kZSc6IHBhcmFtcy5pbnRlcnZpZXdfY29kZSB8fCAnJyxcbiAgICAnY2FuZGlkYXRlX2lkJzogcGFyYW1zLmNhbmRpZGF0ZV9pZCB8fCAwLFxuICAgICdqb2JfaWQnOiBwYXJhbXMuam9iX2lkIHx8IDAsXG4gICAgJ2NvbXBhbnlfaWQnOiBwYXJhbXMuY29tcGFueV9pZCB8fCAwXG4gIH1cblxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2dFbnYsIGVudilcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obG9nQmFzZUluZm8sIEpTT04uc3RyaW5naWZ5KGJhc2VQYXJhbSkpXG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGVyckV2dCkgPT4ge1xuICAgIG9uRXJyb3IoZXJyRXZ0LmVycm9yKVxuICAgIHJldHVybiBmYWxzZVxuICB9KVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmhhbmRsZWRyZWplY3Rpb24nLCAoZXJyRXZ0KSA9PiB7XG4gICAgb25VbmhhbmRsZWRSZWplY3Rpb24oZXJyRXZ0LnJlYXNvbilcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZEV2ZW50KHBhcmFtcykge1xuICBzd2l0Y2ggKHBhcmFtcy5zdGF0dXMpIHtcbiAgICBjYXNlICdvbmxpbmUnOlxuICAgICAgcmV0dXJuIHNlbmRFdmVudChwYXJhbXMpXG5cbiAgICBjYXNlICdvZmZsaW5lJzpcbiAgICAgIHJldHVybiBzdG9yZUV2ZW50KHBhcmFtcylcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ05vIGV2ZW50IHRvIHNlbmQnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZFNhdmVkRXZlbnRzKCkge1xuICBjb25zdCBsb2dJdGVtcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvZ0luZm9zKVxuICBpZiAoIWxvZ0l0ZW1zKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gIH1cblxuICBjb25zdCBVUkwgPSBjb25zdHJ1Y3RVUkwoKVxuICBjb25zdCByZXF1ZXN0UGFyYW1zID0ge1xuICAgIGxvZ3M6IEpTT04ucGFyc2UobG9nSXRlbXMpXG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGh0dHBIYW5kbGVyKCdQT1NUJywgVVJMLCByZXF1ZXN0UGFyYW1zKVxuICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obG9nSW5mb3MpXG4gICAgICAgIHJlc29sdmUocmVzdWx0KVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgc3RvcmFnZUtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSlcbiAgfSlcbn1cbiIsIlxuZXhwb3J0IGNvbnN0IGdldFRpbWV6b25lID0gKCkgPT4ge1xuICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpXG4gIHZhciBjdXJyZW50VGltZXpvbmUgPSBjdXJyZW50VGltZS5nZXRUaW1lem9uZU9mZnNldCgpXG5cbiAgcmV0dXJuIChjdXJyZW50VGltZXpvbmUgLyA2MCkgKiAtMVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudERhdGVUaW1lID0gKCkgPT4ge1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxuICBsZXQgZCA9IG5ldyBEYXRlKGRhdGUpLFxuICAgIG1vbnRoID0gJycgKyAoZC5nZXRNb250aCgpICsgMSksXG4gICAgZGF5ID0gJycgKyBkLmdldERhdGUoKSxcbiAgICB5ZWFyID0gZC5nZXRGdWxsWWVhcigpLFxuICAgIGhvdXIgPSBkLmdldEhvdXJzKCksXG4gICAgbWludXRlID0gZC5nZXRNaW51dGVzKCksXG4gICAgc2Vjb25kID0gZC5nZXRTZWNvbmRzKClcblxuICBpZiAobW9udGgubGVuZ3RoIDwgMikge1xuICAgIG1vbnRoID0gJzAnICsgbW9udGhcbiAgfVxuXG4gIGlmIChkYXkubGVuZ3RoIDwgMikge1xuICAgIGRheSA9ICcwJyArIGRheVxuICB9XG5cbiAgLy8gaG91ciA9IGhvdXIgJSAxMjtcbiAgLy8gaG91ciA9IGhvdXIgPyBob3VyIDogMTI7XG4gIG1pbnV0ZSA9IG1pbnV0ZSA8IDEwID8gJzAnICsgbWludXRlIDogbWludXRlO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGAke1t5ZWFyLCBtb250aCwgZGF5XS5qb2luKCctJyl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWBcblxuICByZXR1cm4gcmVzdWx0O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==